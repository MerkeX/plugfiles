#!/bin/bash
# Nick Farrow 2019

# Whenever out mouse is past XSPLIT in the X-direction,
# A hotkey is sent to OBS to change scenes
XSPLIT=1920

# Hotkeys for left and right scenes
LEFT='F7'
RIGHT='F8'

PAST=$RIGHT

obs | while :
	do
		XCOORD=$(xdotool getmouselocation | cut -d : -f 2 | cut -d ' ' -f 1)

		if [ "$XCOORD" -lt "$XSPLIT" ] && [ "$PAST" == "$RIGHT" ] then
			WINDOWID=$(xdotool search --name OBS | tail -1)
			xdotool key --window $WINDOWID $LEFT
			PAST=$LEFT
			echo "CHANGE LEFT"

		elif [ "$XCOORD" -gt "$XSPLIT" ] && [ "$PAST" == "$LEFT" ] then
			WINDOWID=$(xdotool search --name OBS | tail -1)
			xdotool key --window $WINDOWID $RIGHT
			PAST=$RIGHT
			echo "CHANGE RIGHT"
		fi
	done
